---
title: "Lab - the data science workflow"
author: "Adi Sarid"
date: "r Sys.Date()"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

In this lab we cover the data science work flow. The lab will walk you through the steps performed in a data science project:

   * Data import
   * Data tidying
   * Transformation <-> Visualization <-> Modelling
   
The lab will also cover the theoretic elements we covered such confidence intervals and hypothesis tests. This lab is to be performed in groups of 3 (i.e., zoom break rooms).

# First exercise - open up a new project.

First, open up a new project. To do this, in RStudio go to:

   * File -> New Project -> New Directory -> New Project.

Provide your project directory name (under directory name), and click ok. Note that everything will close and RStudio will open up in a clean window. But don't worry, you can always view this file by visiting [this link](https://github.com/adisarid/intro_statistics_R/tree/master/labs/Data_science_workflow_lab.Rmd).

Once a new RStudio instance has opened with a clean window of your new project, open up a new RMarkdown, which you will use to answer your questions to this lab by:

   * File -> New file -> R Markdown...

Give your RMarkdown file a name and use the html outupt type. In your new RMarkdown file you can delete lines 1-10 and delete everything else in the file (lines 11-31). Try to knit it by clicking ctrl+k. 

Now we are ready to do some analysis.

# Second exercise - get to know your data

In this lab we are going to analyze food consumption data from *tidytuesday*. You can read about tidytuesday [here](https://github.com/rfordatascience/tidytuesday) - it's a github repository which is updated every Tuesday with data freely available for analyzing and sharpening your data analysis skills. 
Today we will use this dataset: [here](https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-02-18/readme.md).

***

In groups, find the original source of the data (the nu3.de website within the links) and discuss: 

   * What is the origin of the data?
   * Would you consider the data reliable/trust worthy?
   * How was the carbon footprint computed for each food type and country?

Using the `read_csv` function from the `readr` package, read the food consumption data. 

   * Use the following functions to understand how the data is arranged: `glimpse`, `head`, `View`. 
   * Comparing the file you read with the original table, in what sense the file you read is more "tidy"?

```{r read the data}
food_consumption <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-18/food_consumption.csv')

glimpse(food_consumption)

head(food_consumption)

```

***

Checkpoint - make sure you summarize your answers in a convinient way, we are going to discuss them in class.

# Visualization

In the group, discuss: 

   * What influences the consumption of various goods (e.g., pork, beef, fish, wheat, etc.). In which countries would you expect to find a low or high consumption of specific products?



# Data tidying

# Transformation, visualization

# Modelling